{% extends 'users/base.html' %}
{% block title %}
  Serve King - Order#{{ order.id }}
{% endblock %}
{% block content %}
<div class="container mx-auto my-14 px-2 py-4">
    <h1 class="text-3xl font-bold mb-6 text-center card rounded-2xl">Order #{{ order.id }}</h1>
    <div class="p-6 shadow-2xl rounded-2xl bg-gray-100 bg-opacity-30">
      <h6 class="text-lg font-bold mb-2">Users Details</h6>
      <hr class="mb-2 bg-gray-400 h-0.5" />
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="block text-sm font-bold text-gray-800 mx-1">First Name</label>
          <div class="rounded-md border border-gray-400 shadow-lg card rounded-xl px-2 py-1 opacity-80">{{ order.fname }}</div>
        </div>
        <div>
          <label class="block text-sm font-bold text-gray-800 mx-1">Last Name</label>
          <div class="rounded-md border border-gray-400 shadow-lg card rounded-xl px-2 py-1 opacity-80">{{ order.lname }}</div>
        </div>
        <div>
          <label class="block text-sm font-bold text-gray-800 mx-1">Email</label>
          <div class="rounded-md border border-gray-400 shadow-lg card rounded-xl px-2 py-1 opacity-80">{{ order.email }}</div>
        </div>
        <div>
          <label class="block text-sm font-bold text-gray-800 mx-1">Contact No.</label>
          <div class="rounded-md border border-gray-400 shadow-lg card rounded-xl px-2 py-1 opacity-80">{{ order.phone }}</div>
        </div>
        <div class="col-span-1 md:col-span-2">
          <label class="block text-sm font-bold text-gray-700">Address</label>
          <div class="rounded-md border border-gray-400 shadow-lg card rounded-xl px-2 py-1 opacity-80">{{ order.address }}</div>
        </div>
      </div>
      <h6 class="text-lg font-bold mb-2 mt-5">Order Details</h6>
      <hr class="mb-2 bg-gray-400 h-0.5" />
      <div class="overflow-x-auto">
        <table class="w-full border-collapse border-2 border-gray-500 mt-3">
            <thead>
                <tr class="bg-gray-200">
                    <th class="px-4 py-2 border-2 border-gray-400">Name</th> 
                    <th class="px-4 py-2 border-2 border-gray-400">Quantity</th> 
                    <th class="px-4 py-2 border-2 border-gray-400">Price</th>
                    <th class="px-4 py-2 border-2 border-gray-400">Image</th>
                </tr>
            </thead>
            <tbody>
                {% for item in orderitems %}  
                 <tr class="border-2 border-gray-400">
                    <td class="opacity-80 card px-4 py-1 border-2 border-gray-400 text-center">{{ item.item.name }}</td>
                    <td class="opacity-80 card px-4 py-1 border-2 border-gray-400 text-center">{{ item.quantity }}</td>
                    <td class="opacity-80 card px-4 py-1 border-2 border-gray-400 text-center">Rs.{{ item.price }}</td>
                    <td class="opacity-80 card px-4 py-1 justify-center flex"><img src="{{item.item.image.url}}" class="w-9 h-9 object-cover shadow-md mr-6 items-center"></td>
                 </tr>
                {% endfor%} 
            </tbody>    
        </table> 
      </div>   
        <div class="card px-4 py-2 flex justify-center items-center border-2 border-gray-400 gap-4">
          <h6 class="text-xl font-bold">Grand Total: </h6>
          <span class="text-xl font-semibold">Rs. {{ order.total_price }}</span>
        </div>
        <div class="mt-4 flex items-center mx-8 flex justify-end">
          <a href="{% url 'myorders' %}" class="block text-center bg-red-600 hover:bg-red-800 text-white font-bold py-1 px-5 rounded-2xl transition-all duration-300 transform">Back</a>
        </div>
      </div>
</div>
{% endblock %}